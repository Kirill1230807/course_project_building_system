{% extends "core/layout.html" %}
{% load static %}
{% block title %}Редагування матеріалу{% endblock %}

{% block content %}
<h1>Редагування матеріалу</h1>

<form method="post" action="{% url 'materials:edit' material.id %}">
  {% csrf_token %}

  <label>Назва:</label>
  <input type="text" name="name" value="{{ material.name }}" required><br>

  <label>Опис:</label>
  <input type="text" name="description" value="{{ material.description|default:'' }}"><br>

  <label>Постачальник:</label>
  <select name="supplier_id" required>
    {% for id, name in suppliers %}
      <option value="{{ id }}" {% if id == material.supplier_id %}selected{% endif %}>{{ name }}</option>
    {% endfor %}
  </select><br>

  <label>Одиниця вимірювання:</label>
  <select name="unit_id" required>
    {% for id, name, short in units %}
      <option value="{{ id }}" {% if id == material.unit_id %}selected{% endif %}>{{ name }} ({{ short }})</option>
    {% endfor %}
  </select><br>

  <label>Ціна:</label>
  <input type="number" step="0.01" name="price" value="{{ material.price }}" required><br>

  <label>Кількість:</label>
  <input type="number" step="0.01" name="count" value="{{ material.count }}" required><br>

  {% if error_msg %}
  <p style="color:red;">{{ error_msg }}</p>
  {% endif %}

  <button type="submit">Зберегти зміни</button>
</form>

<a href="{% url 'materials:index' %}">Назад</a>

<link rel="stylesheet" href="{% static 'materials/css/materials_edit.css' %}">
{% endblock %}
