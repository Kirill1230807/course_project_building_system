{% extends "core/layout.html" %}
{% load static %}
{% block title %}Редагування матеріалу{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'pages/materials/materials_edit.css' %}">
{% endblock %}

{% block content %}
<div class="edit-container">

    <h1 class="page-title">Редагування матеріалу</h1>

    <div class="form-card">
        <form method="post" action="{% url 'materials:edit' material.id %}" class="styled-form">
            {% csrf_token %}

            <label>Назва:</label>
            <input type="text" name="name" value="{{ material.name }}" required>

            <label>Опис:</label>
            <input type="text" name="description" value="{{ material.description|default:'' }}">

            <label>Постачальник:</label>
            <select name="supplier_id" required>
                {% for id, name in suppliers %}
                    <option value="{{ id }}" {% if id == material.supplier_id %}selected{% endif %}>{{ name }}</option>
                {% endfor %}
            </select>

            <label>Одиниця вимірювання:</label>
            <select name="unit_id" required>
                {% for id, name, short in units %}
                    <option value="{{ id }}" {% if id == material.unit_id %}selected{% endif %}>
                        {{ name }} ({{ short }})
                    </option>
                {% endfor %}
            </select>

            <label>Ціна:</label>
            <input type="number" step="0.01" name="price" value="{{ material.price }}" required>

            <label>Кількість:</label>
            <input type="number" step="0.01" name="count" value="{{ material.count }}" required>

            {% if error_msg %}
                <p class="error-msg">{{ error_msg }}</p>
            {% endif %}

            <button type="submit" class="save-btn">Зберегти зміни</button>
        </form>

        <a href="{% url 'materials:index' %}" class="back-btn">Назад</a>
    </div>

</div>
{% endblock %}
