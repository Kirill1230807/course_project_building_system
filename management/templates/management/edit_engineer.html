{% extends "core/layout.html" %}
{% load static %}
{% block title %}Редагування інженера{% endblock %}

{% block content %}
<h1>Редагування інженера</h1>

<form method="post" action="{% url 'management:edit_engineer' engineer.id %}">
  {% csrf_token %}
  
  <label>Ім’я:</label>
  <input type="text" name="first_name" value="{{ engineer.first_name }}" required><br>

  <label>Прізвище:</label>
  <input type="text" name="last_name" value="{{ engineer.last_name }}" required><br>

  <label>По-батькові:</label>
  <input type="text" name="father_name" value="{{ engineer.father_name|default:'' }}"><br>

  <label>Дата народження:</label>
  <input type="date" name="birthday" value="{{ engineer.birthday|date:'Y-m-d' }}"><br>

  <label>Дата прийняття на роботу:</label>
  <input type="date" name="start_date" value="{{ engineer.start_date|date:'Y-m-d' }}"><br>

  <label>Посада:</label>
  <select name="position_id" required>
    {% for id, title in positions %}
      <option value="{{ id }}" {% if id == engineer.position_id %}selected{% endif %}>{{ title }}</option>
    {% endfor %}
  </select><br>

  <label>Зарплата:</label>
  <input type="number" step="0.01" name="salary" value="{{ engineer.salary }}" required><br>

  {% if error_msg %}
  <p style="color:red;">{{ error_msg }}</p>
  {% endif %}

  <button type="submit">Зберегти зміни</button>
</form>

<a href="{% url 'management:engineers' %}">Назад</a>
<link rel="stylesheet" href="{% static 'management/css/edit_engineer.css' %}">
{% endblock %}
